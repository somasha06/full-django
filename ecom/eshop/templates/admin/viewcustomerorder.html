{% extends "admin/adminbase.html" %}

{% block content %}

<h2 class="text-xl font-bold mb-4">
    Orders of {{ user.username }}
</h2>

<table class="min-w-full bg-white border">
    <thead>
        <tr class="bg-gray-100">
            <th class="border px-4 py-2">Order ID</th>
            <th class="border px-4 py-2">Total</th>
            <th class="border px-4 py-2">Status</th>
            <th class="border px-4 py-2">Date</th>
            <th class="border px-4 py-2">Coupon</th>
            <th class="border px-4 py-2">Discount</th>
            <th class="border px-4 py-2">final Amount</th>
            <th class="border px-4 py-2">Action</th>
        </tr>
    </thead>

    <tbody>
        {% for order in orders %}
        <tr>
            <td class="border px-4 py-2">#{{ order.id }}</td>
            <td class="border px-4 py-2">â‚¹{{ order.total_price }}</td>
            <td class="border px-4 py-2">{{ order.status }}</td>
            <td class="border px-4 py-2">
                {{ order.created_at|date:"d M Y" }}
            </td>
            <td class="border px-4 py-2">{{ order.coupon}}</td>
            <td class="border px-4 py-2">{{ order.discount_price}}</td>
            <td class="border px-4 py-2">{{ order.final_price}}</td>

            <td class="border px-4 py-2">
                <a href="{% url 'viewcustomerorderitems' order.id %}" class="text-blue-600 font-semibold">
                    View Items
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="text-center py-4">
                No orders found
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
