{% extends "admin/adminbase.html" %}
{% block content %}

<div class="flex justify-between">
    <h2 class="text-2xl font-bold mb-4">Customer Profile</h2>
    <a href="{% url 'allcustomer' %}" class="text-2xl font-bold mb-4">Back Menu</a>
</div>

<!-- CUSTOMER INFO -->
<div class="border p-4 mb-6">
    <p><strong>Name:</strong> {{ customer.username }}</p>
    <p><strong>Email:</strong> {{ customer.email }}</p>
    <p><strong>Phone:</strong> {{ customer.mobile_no }}</p>
    {% comment %} <p><strong>Status:</strong>
        {% if customer.is_active %}
            <span class="text-green-600">Active</span>
        {% else %}
            <span class="text-red-600">Blocked</span>
        {% endif %}
    </p> {% endcomment %}

    <div class="mt-3">
    <p><strong>Address:</strong></p>

    {% if addresses %}
        {% for addr in addresses %}
            <p class="ml-4 text-gray-700">
                {{ addr.city|default:"-" }},
                {{ addr.state|default:"-" }},
                {{ addr.country|default:"-" }}
                {% if addr.pin_code %}
                    – {{ addr.pin_code }}
                {% endif %}

                {% if addr.is_default %}
                    <span class="text-green-600 font-semibold">(Default)</span>
                {% endif %}
            </p>
        {% endfor %}
    {% else %}
        <p class="ml-4 text-gray-500">Not provided</p>
    {% endif %}
</div>
</div>



<!-- SUMMARY CARDS -->
<div class="grid grid-cols-4 gap-4 mb-6">
    <a href="{% url 'viewcustomerorder' customer.id %}" class="border p-4 text-center">
        <h3 class="font-bold">Orders</h3>
        <p>{{ ordercount }}</p>
    </a>

    <a href="{% url 'viewcustomerwishlist' customer.id %}" class="border p-4 text-center">
        <h3 class="font-bold">Wishlist</h3>
        <p>{{ wishlistcount }}</p>
    </a>

    <a href="{% url 'viewcustomercart' customer.id %}" class="border p-4 text-center">
        <h3 class="font-bold">Cart</h3>
        <p>{{ cartcount }}</p>
    </a>

    {% comment %} <div class="border p-4 text-center">
        <h3 class="font-bold">Total Spent</h3>
        <p>₹{{ total_spent }}</p>
    </div> {% endcomment %}
</div>



{% endblock %}